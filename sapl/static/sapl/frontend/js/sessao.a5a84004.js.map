{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/moment/locale sync [\\/\\\\](pt-br(\\.js)","webpack:///./src/__apps/sessao/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","Vue","use","ListGroupPlugin","AsyncComputed","component","VueCountdown","moment","require","delimiters","el","lista_selecionada","parlamentares_selecionados","selecionado_add","selecionado_painel","orador","cronometros_lista","counting","asyncComputed","tipo_listas","axios","then","response","results","default","parlamentares","sessao_pk","location","href","split","url","nome","nome_parlamentar","computed","watch","newValue","oldValue","a","this","tmp","forEach","cronometro","duracao_atual","duracao_original","duration","duracao_cronometro","status","last_stop_duration","_milliseconds","ultima_alteracao_status","dif","now","diff","_original","_atual","methods","saveParlamentarLista","lista_ids_parls","$","console","log","setOrador","selected_index","parl_selec_id","orador_pk","tipo_lista_pk","startCountdown","index","$refs","countdown","start","set","tipo","action","last_time","stopCountdown","_data","totalMilliseconds","cron_text","document","getElementById","resetCountdown","handleCountdownEnd","transform","props","entries","digits","abrir_painel","open","components","draggable"],"mappings":"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","file":"js/sessao.a5a84004.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"sessao\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/sapl/frontend/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([3,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var map = {\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"332f\";","import Vue from 'vue'\nimport draggable from 'vuedraggable'\nimport { ListGroupPlugin } from 'bootstrap-vue'\nimport axios from 'axios'\nimport './sessao.css'\nimport VueCountdown from '@chenfengyuan/vue-countdown'\nimport AsyncComputed from 'vue-async-computed'\n\nVue.use(ListGroupPlugin)\nVue.use(AsyncComputed)\nVue.component(VueCountdown.name, VueCountdown)\n\nvar moment = require('moment')\n\nconst lista_discurso_app = new Vue({ // eslint-disable-line\n  delimiters: ['[[', ']]'],\n  el: '#lista-discurso',\n  data: {\n    lista_selecionada: '',\n    parlamentares_selecionados: [],\n    selecionado_add: false,\n    selecionado_painel: false,\n    orador: -1,\n    cronometros_lista: [],\n    counting: []\n  },\n  asyncComputed: {\n    tipo_listas: {\n      async get () {\n        return axios.get('/api/sessao/tipolistadiscurso/?page_size=200').then(response =>\n          response.data.results\n        )\n      },\n      default: []\n    },\n    parlamentares: {\n      async get () {\n        const sessao_pk = window.location.href.split('/')[4]\n        const url = '/api/sessao/sessaoplenaria/' + sessao_pk + '/parlamentares_presentes/?page_size=200'\n        return axios.get(url).then((response) =>\n          response.data.results.map(function (p) {\n            return { id: p.id, nome: p.nome_parlamentar }\n          })\n        )\n      },\n      default: []\n    }\n\n  },\n  computed: {\n  },\n  watch: {\n    lista_selecionada: async function (newValue, oldValue) {\n      const url = '/api/painel/cronometro/?cronometrolista__tipo_lista_id=' + this.lista_selecionada.id\n      this.cronometros_lista = await axios.get(url).then(response =>\n        response.data.results\n      )\n\n      const sessao_pk = window.location.href.split('/')[4]\n      axios.get('/sistema/get-orador-lista/' + sessao_pk + '/' +\n                      this.lista_selecionada.id).then(response => {\n        this.orador = response.data.orador[0]\n        this.parlamentares_selecionados = response.data.parlamentares.map(function (p) {\n          return { id: p[0], nome: p[1] }\n        })\n      }\n      )\n    },\n    cronometros_lista: function (newValue, oldValue) {\n      const tmp = []\n      newValue.forEach(function (cronometro) {\n        const duracao_original = moment.duration(cronometro.duracao_cronometro)\n        let duracao_atual\n        if (cronometro.status === 'S') { // stop\n          tmp.push(false)\n\n          if (cronometro.last_stop_duration) { duracao_atual = moment.duration(cronometro.last_stop_duration) } else { duracao_atual = moment.duration(cronometro.duracao_cronometro) }\n          duracao_atual = duracao_atual._milliseconds\n        } else if (cronometro.status === 'R') { // reset\n          tmp.push(false)\n\n          duracao_atual = moment.duration(cronometro.duracao_cronometro)\n          duracao_atual = duracao_atual._milliseconds\n        } else if (cronometro.status === 'I') { // iniciar\n          tmp.push(true)\n\n          const ultima_alteracao_status = moment(cronometro.ultima_alteracao_status)\n          const now = moment(moment.now())\n          const dif = now.diff(ultima_alteracao_status)\n          duracao_atual = dif < duracao_original._milliseconds ? duracao_original._milliseconds - dif : duracao_original._milliseconds\n        }\n        const duration = {\n          _original: duracao_original._milliseconds,\n          _atual: duracao_atual\n        }\n        cronometro.duracao_cronometro = duration\n      })\n      this.counting = tmp\n    },\n    selecionado_painel: function (newValue, oldValue) {\n      if (newValue === true) {\n        this.cronometros_lista.forEach(function (cronometro) {\n          // Recalcula o tempo do cronômetro quando alterna entre as abas\n          // Adicionar Parlamentar e Painel da Lista de Discurso\n          if (cronometro.status === 'I') { // iniciar\n            const duracao_original = cronometro.duracao_cronometro._original\n            const ultima_alteracao_status = moment(cronometro.ultima_alteracao_status)\n            const now = moment(moment.now())\n            const dif = now.diff(ultima_alteracao_status)\n            const duracao_atual = dif < duracao_original ? duracao_original - dif : duracao_original\n            const duration = {\n              _original: duracao_original,\n              _atual: duracao_atual\n            }\n            cronometro.duracao_cronometro = duration\n          }\n        })\n      }\n    }\n  },\n  methods: {\n    saveParlamentarLista: function saveParlamentarLista () {\n      const lista_ids_parls = []\n      for (const p of this.parlamentares_selecionados) {\n        lista_ids_parls.push(p.id)\n      }\n      const url = window.location.href\n      const sessao_pk = url.split('/')[4]\n      $.get('/sistema/salva-listadiscurso-parlamentares/',\n        {\n          parlamentares_selecionados: lista_ids_parls,\n          lista_selecionada: this.lista_selecionada.id,\n          sessao_pk: sessao_pk\n        }, function (data, status) {\n          if (status === 'success') {\n            /* eslint-disable no-console */\n            console.log('Salvo.')\n            /* eslint-enable no-console */\n          }\n        })\n    },\n    setOrador: function setOrador (selected_index) {\n      const parl_selec_id = this.parlamentares_selecionados[selected_index].id\n      const url = window.location.href\n      const sessao_pk = url.split('/')[4]\n      if (this.orador !== parl_selec_id) {\n        this.orador = parl_selec_id\n      } else {\n        this.orador = -1\n      }\n      $.get('/sistema/salva-orador-listadiscurso/',\n        {\n          orador_pk: this.orador,\n          tipo_lista_pk: this.lista_selecionada.id,\n          sessao_pk: sessao_pk\n        }, function (data, status) {\n          if (status === 'success') {\n            /* eslint-disable no-console */\n            console.log('Orador Salvo.')\n            /* eslint-enable no-console */\n          }\n        })\n    },\n    startCountdown: function (index) {\n      this.$refs.countdown[index].start()\n      Vue.set(this.counting, index, true)\n      $.get('/painel/cronometro',\n        {\n          tipo: 'cronometro_' + this.cronometros_lista[index].id,\n          action: 'start',\n          last_time: '0'\n        }\n      )\n    },\n    stopCountdown: function (index) {\n      this.$refs.countdown[index]._data.counting = false\n      this.cronometros_lista[index].duracao_cronometro._atual = this.$refs.countdown[index]._data.totalMilliseconds\n      Vue.set(this.counting, index, false)\n      const cron_text = document.getElementById('cronometro_' + this.cronometros_lista[index].id).value\n      $.get('/painel/cronometro',\n        {\n          tipo: 'cronometro_' + this.cronometros_lista[index].id,\n          action: 'stop',\n          last_time: cron_text\n        }\n      )\n    },\n    resetCountdown: function (index) {\n      // this.$refs.countdown[index]._data.totalMilliseconds = this.cronometros_lista[index].duracao_cronometro._original;\n      this.$refs.countdown[index]._data.counting = false\n      this.cronometros_lista[index].duracao_cronometro._atual = this.cronometros_lista[index].duracao_cronometro._original\n      Vue.set(this.counting, index, false)\n      $.get('/painel/cronometro',\n        {\n          tipo: 'cronometro_' + this.cronometros_lista[index].id,\n          action: 'reset',\n          last_time: '0'\n        }\n      )\n    },\n    handleCountdownEnd: function (index) {\n      Vue.set(this.counting, index, false)\n      $.get('/painel/cronometro',\n        {\n          tipo: 'cronometro_' + this.cronometros_lista[index].id,\n          action: 'stop',\n          last_time: this.$refs.countdown[index]._data.totalMilliseconds\n        }\n      )\n    },\n    transform: function transform (props) {\n      Object.entries(props).forEach(([key, value]) => {\n        // Adds leading zero\n        const digits = value < 10 ? `0${value}` : value\n        props[key] = digits\n      })\n      return props\n    },\n    abrir_painel: function abrir_painel () {\n      const local_url = window.location.href\n      const sessao_pk = local_url.split('/')[4]\n      const url = '/painel-discurso/' + sessao_pk + '/' + this.lista_selecionada.id\n      window.open(url, 'Comprovante', 'width=800, height=800, scrollbars=yes')\n      return false\n    }\n  },\n  components: {\n    draggable\n  }\n})\n"],"sourceRoot":""}