(function(t){function o(o){for(var n,i,s=o[0],c=o[1],u=o[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(o);while(p.length)p.shift()();return a.push.apply(a,u||[]),e()}function e(){for(var t,o=0;o<a.length;o++){for(var e=a[o],n=!0,s=1;s<e.length;s++){var c=e[s];0!==r[c]&&(n=!1)}n&&(a.splice(o--,1),t=i(i.s=e[0]))}return t}var n={},r={sessao:0},a=[];function i(o){if(n[o])return n[o].exports;var e=n[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=n,i.d=function(t,o,e){i.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,o){if(1&o&&(t=i(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var n in t)i.d(e,n,function(o){return t[o]}.bind(null,n));return e},i.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(o,"a",o),o},i.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},i.p="/static/sapl/frontend/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=o,s=s.slice();for(var u=0;u<s.length;u++)o(s[u]);var l=c;a.push([3,"chunk-vendors"]),e()})({"18cd":function(t,o,e){},3:function(t,o,e){t.exports=e("b80c")},"332f":function(t,o,e){var n={"./pt-br":"d2d4","./pt-br.js":"d2d4"};function r(t){var o=a(t);return e(o)}function a(t){if(!e.o(n,t)){var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=a,t.exports=r,r.id="332f"},b80c:function(t,o,e){"use strict";e.r(o),function(t){e("4160"),e("d81d"),e("b0c0"),e("4fad"),e("ac1f"),e("1276"),e("159b");var o=e("3835"),n=e("b85c"),r=(e("96cf"),e("1da1")),a=(e("e260"),e("e6cf"),e("cca6"),e("a79d"),e("a026")),i=e("310e"),s=e.n(i),c=e("e68d"),u=e("bc3a"),l=e.n(u),d=(e("18cd"),e("407d")),p=e.n(d),f=e("3003");a["a"].use(c["a"]),a["a"].use(f["a"]),a["a"].component(p.a.name,p.a);var _=e("c1df");new a["a"]({delimiters:["[[","]]"],el:"#lista-discurso",data:{lista_selecionada:"",parlamentares_selecionados:[],selecionado_add:!1,selecionado_painel:!1,orador:-1,cronometros_lista:[],counting:[]},asyncComputed:{tipo_listas:{get:function(){return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",l.a.get("/api/sessao/tipolistadiscurso/?page_size=200").then((function(t){return t.data.results})));case 1:case"end":return t.stop()}}),t)})))()},default:[]},parlamentares:{get:function(){return Object(r["a"])(regeneratorRuntime.mark((function t(){var o,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=window.location.href.split("/")[4],e="/api/sessao/sessaoplenaria/"+o+"/parlamentares_presentes/?page_size=200",t.abrupt("return",l.a.get(e).then((function(t){return t.data.results.map((function(t){return{id:t.id,nome:t.nome_parlamentar}}))})));case 3:case"end":return t.stop()}}),t)})))()},default:[]}},computed:{},watch:{lista_selecionada:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(o,e){var n,r,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="/api/painel/cronometro/?cronometrolista__tipo_lista_id="+this.lista_selecionada.id,t.next=3,l.a.get(n).then((function(t){return t.data.results}));case 3:this.cronometros_lista=t.sent,r=window.location.href.split("/")[4],l.a.get("/sistema/get-orador-lista/"+r+"/"+this.lista_selecionada.id).then((function(t){a.orador=t.data.orador[0],a.parlamentares_selecionados=t.data.parlamentares.map((function(t){return{id:t[0],nome:t[1]}}))}));case 6:case"end":return t.stop()}}),t,this)})));function o(o,e){return t.apply(this,arguments)}return o}(),cronometros_lista:function(t,o){var e=[];t.forEach((function(t){var o,n=_.duration(t.duracao_cronometro);if("S"===t.status)e.push(!1),o=t.last_stop_duration?_.duration(t.last_stop_duration):_.duration(t.duracao_cronometro),o=o._milliseconds;else if("R"===t.status)e.push(!1),o=_.duration(t.duracao_cronometro),o=o._milliseconds;else if("I"===t.status){e.push(!0);var r=_(t.ultima_alteracao_status),a=_(_.now()),i=a.diff(r);o=i<n._milliseconds?n._milliseconds-i:n._milliseconds}var s={_original:n._milliseconds,_atual:o};t.duracao_cronometro=s})),this.counting=e},selecionado_painel:function(t,o){!0===t&&this.cronometros_lista.forEach((function(t){if("I"===t.status){var o=t.duracao_cronometro._original,e=_(t.ultima_alteracao_status),n=_(_.now()),r=n.diff(e),a=r<o?o-r:o,i={_original:o,_atual:a};t.duracao_cronometro=i}}))}},methods:{saveParlamentarLista:function(){var o,e=[],r=Object(n["a"])(this.parlamentares_selecionados);try{for(r.s();!(o=r.n()).done;){var a=o.value;e.push(a.id)}}catch(c){r.e(c)}finally{r.f()}var i=window.location.href,s=i.split("/")[4];t.get("/sistema/salva-listadiscurso-parlamentares/",{parlamentares_selecionados:e,lista_selecionada:this.lista_selecionada.id,sessao_pk:s},(function(t,o){}))},setOrador:function(o){var e=this.parlamentares_selecionados[o].id,n=window.location.href,r=n.split("/")[4];this.orador!==e?this.orador=e:this.orador=-1,t.get("/sistema/salva-orador-listadiscurso/",{orador_pk:this.orador,tipo_lista_pk:this.lista_selecionada.id,sessao_pk:r},(function(t,o){}))},startCountdown:function(o){this.$refs.countdown[o].start(),a["a"].set(this.counting,o,!0),t.get("/painel/cronometro",{tipo:"cronometro_"+this.cronometros_lista[o].id,action:"start",last_time:"0"})},stopCountdown:function(o){this.$refs.countdown[o]._data.counting=!1,this.cronometros_lista[o].duracao_cronometro._atual=this.$refs.countdown[o]._data.totalMilliseconds,a["a"].set(this.counting,o,!1);var e=document.getElementById("cronometro_"+this.cronometros_lista[o].id).value;t.get("/painel/cronometro",{tipo:"cronometro_"+this.cronometros_lista[o].id,action:"stop",last_time:e})},resetCountdown:function(o){this.$refs.countdown[o]._data.counting=!1,this.cronometros_lista[o].duracao_cronometro._atual=this.cronometros_lista[o].duracao_cronometro._original,a["a"].set(this.counting,o,!1),t.get("/painel/cronometro",{tipo:"cronometro_"+this.cronometros_lista[o].id,action:"reset",last_time:"0"})},handleCountdownEnd:function(o){a["a"].set(this.counting,o,!1),t.get("/painel/cronometro",{tipo:"cronometro_"+this.cronometros_lista[o].id,action:"stop",last_time:this.$refs.countdown[o]._data.totalMilliseconds})},transform:function(t){return Object.entries(t).forEach((function(e){var n=Object(o["a"])(e,2),r=n[0],a=n[1],i=a<10?"0".concat(a):a;t[r]=i})),t},abrir_painel:function(){var t=window.location.href,o=t.split("/")[4],e="/painel-discurso/"+o+"/"+this.lista_selecionada.id;return window.open(e,"Comprovante","width=800, height=800, scrollbars=yes"),!1}},components:{draggable:s.a}})}.call(this,e("1157"))}});
//# sourceMappingURL=sessao.bb530b06.js.map